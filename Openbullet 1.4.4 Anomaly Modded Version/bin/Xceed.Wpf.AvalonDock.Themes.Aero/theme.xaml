<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:localThemes="clr-namespace:Xceed.Wpf.AvalonDock.Themes"
                    xmlns:shell="clr-namespace:Microsoft.Windows.Shell;assembly=Xceed.Wpf.AvalonDock"
                    xmlns:avalonDock="clr-namespace:Xceed.Wpf.AvalonDock;assembly=Xceed.Wpf.AvalonDock"
                    xmlns:avalonDockLayout="clr-namespace:Xceed.Wpf.AvalonDock.Layout;assembly=Xceed.Wpf.AvalonDock"
                    xmlns:avalonDockControls="clr-namespace:Xceed.Wpf.AvalonDock.Controls;assembly=Xceed.Wpf.AvalonDock"
                    xmlns:avalonDockAero="clr-namespace:Xceed.Wpf.AvalonDock.Themes"
                    xmlns:avalonDockThemeControls="clr-namespace:Xceed.Wpf.AvalonDock.Themes.Controls"
                    xmlns:avalonDockConverters="clr-namespace:Xceed.Wpf.AvalonDock.Converters;assembly=Xceed.Wpf.AvalonDock"
                    xmlns:avalonDockProperties="clr-namespace:Xceed.Wpf.AvalonDock.Properties;assembly=Xceed.Wpf.AvalonDock">
  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="Brushes.xaml"/>
  </ResourceDictionary.MergedDictionaries>
  <avalonDockConverters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
  <avalonDockConverters:InverseBoolToVisibilityConverter x:Key="InverseBoolToVisibilityConverter"/>
  <avalonDockConverters:AnchorSideToOrientationConverter x:Key="AnchorSideToOrientationConverter"/>
  <avalonDockConverters:AnchorSideToAngleConverter x:Key="AnchorSideToAngleConverter"/>
  <avalonDockConverters:NullToDoNothingConverter x:Key="NullToDoNothingConverter"/>
  <avalonDockConverters:LayoutItemFromLayoutModelConverter x:Key="LayoutItemFromLayoutModelConverter"/>
  <avalonDockConverters:ActivateCommandLayoutItemFromLayoutModelConverter x:Key="ActivateCommandLayoutItemFromLayoutModelConverter"/>
  <avalonDockConverters:AnchorableContextMenuHideVisibilityConverter x:Key="AnchorableContextMenuHideVisibilityConverter"/>
  <Style x:Key="AvalonDock_ThemeAero_DocumentPaneControlStyle"
         TargetType="{x:Type avalonDockControls:LayoutDocumentPaneControl}">
    <Setter Property="Control.Background"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor8Key}}"/>
    <Setter Property="Control.BorderBrush"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"/>
    <Setter Property="Control.BorderThickness" Value="1"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutDocumentPaneControl}">
          <Grid ClipToBounds="true" SnapsToDevicePixels="true" KeyboardNavigation.TabNavigation="Local">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border Background="Transparent" Grid.RowSpan="2"/>
            <Grid ZIndex="1"
                  Visibility="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type avalonDockControls:LayoutDocumentPaneControl}}, Path=Model.ShowHeader, Converter={StaticResource BoolToVisibilityConverter}}">
              <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <avalonDockControls:DocumentPaneTabPanel x:Name="HeaderPanel" Grid.Column="0" IsItemsHost="true" Margin="4,0,16,0" Grid.Row="0"
                                                       KeyboardNavigation.TabIndex="1"/>
              <avalonDockControls:DropDownButton x:Name="MenuDropDownButton" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}"
                                                 Focusable="false" VerticalAlignment="Center" Grid.Column="1">
                <avalonDockControls:DropDownButton.DropDownContextMenu>
                  <avalonDockControls:ContextMenuEx ItemsSource="{Binding Model.ChildrenSorted, RelativeSource={RelativeSource TemplatedParent}}">
                    <ItemsControl.ItemContainerStyle>
                      <Style TargetType="{x:Type avalonDockControls:MenuItemEx}" BasedOn="{StaticResource {x:Type MenuItem}}">
                        <Setter Property="HeaderedItemsControl.HeaderTemplate"
                                Value="{Binding Path=Root.Manager.DocumentPaneMenuItemHeaderTemplate}"/>
                        <Setter Property="HeaderedItemsControl.HeaderTemplateSelector"
                                Value="{Binding Path=Root.Manager.DocumentPaneMenuItemHeaderTemplateSelector}"/>
                        <Setter Property="avalonDockControls:MenuItemEx.IconTemplate"
                                Value="{Binding Path=Root.Manager.IconContentTemplate}"/>
                        <Setter Property="avalonDockControls:MenuItemEx.IconTemplateSelector"
                                Value="{Binding Path=Root.Manager.IconContentTemplateSelector}"/>
                        <Setter Property="MenuItem.Command"
                                Value="{Binding Path=., Converter={StaticResource ActivateCommandLayoutItemFromLayoutModelConverter}}"/>
                      </Style>
                    </ItemsControl.ItemContainerStyle>
                  </avalonDockControls:ContextMenuEx>
                </avalonDockControls:DropDownButton.DropDownContextMenu>
                <Image Source="Images/PinDocMenu_Dark.png"/>
              </avalonDockControls:DropDownButton>
            </Grid>
            <Border x:Name="ContentPanel" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                    BorderBrush="{TemplateBinding Control.BorderBrush}"
                    BorderThickness="{TemplateBinding Control.BorderThickness}"
                    Background="{TemplateBinding Control.Background}" Grid.Column="0"
                    KeyboardNavigation.DirectionalNavigation="Contained" Grid.Row="1" KeyboardNavigation.TabIndex="2"
                    KeyboardNavigation.TabNavigation="Cycle" CornerRadius="3">
              <Border BorderBrush="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor2Key}}"
                      BorderThickness="1,1,1,1" CornerRadius="2">
                <Border BorderBrush="{TemplateBinding Control.BorderBrush}"
                        BorderThickness="{TemplateBinding Control.BorderThickness}"
                        Background="{TemplateBinding Control.Background}" Margin="2" CornerRadius="2">
                  <ContentPresenter x:Name="PART_SelectedContentHost" ContentSource="SelectedContent"
                                    SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"/>
                </Border>
              </Border>
            </Border>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger SourceName="MenuDropDownButton" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="MenuDropDownButton" Property="ContentControl.Content">
                <Setter.Value>
                  <Image Source="Images/PinDocMenu_Black.png"/>
                </Setter.Value>
              </Setter>
            </Trigger>
            <Trigger SourceName="MenuDropDownButton" Property="ToggleButton.IsChecked" Value="True">
              <Setter TargetName="MenuDropDownButton" Property="ContentControl.Content">
                <Setter.Value>
                  <Image Source="Images/PinDocMenu_Black.png"/>
                </Setter.Value>
              </Setter>
            </Trigger>
            <Trigger Property="UIElement.IsEnabled" Value="false">
              <Setter Value="{DynamicResource {x:Static JetSystemColors.GrayTextBrushKey}}" Property="Control.Foreground"/>
            </Trigger>
            <DataTrigger Value="0" Binding="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Model.ChildrenCount}">
              <Setter TargetName="MenuDropDownButton" Property="UIElement.Visibility" Value="Collapsed"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsControl.ItemContainerStyle">
      <Setter.Value>
        <Style TargetType="{x:Type TabItem}">
          <Setter Property="Control.Foreground"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor10Key}}"/>
          <Setter Property="Control.Background"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor7Key}}"/>
          <Setter Property="Control.BorderBrush"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor4Key}}"/>
          <Setter Property="TabItem.IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
          <Setter Property="FrameworkElement.ToolTip" Value="{Binding ToolTip}"/>
          <Setter Property="Control.Padding" Value="2,1,2,1"/>
          <Setter Property="FrameworkElement.Margin" Value="2,1,-15,0"/>
          <Setter Property="Control.Template">
            <Setter.Value>
              <ControlTemplate TargetType="{x:Type TabItem}">
                <Grid SnapsToDevicePixels="true">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>
                  <avalonDockThemeControls:SplineBorder x:Name="splineBd" Fill="{TemplateBinding Control.Background}"
                                                        Stroke="{TemplateBinding Control.BorderBrush}" BottomBorderMargin="0.5"/>
                  <Border x:Name="Bd" Grid.Column="1" BorderBrush="{TemplateBinding Control.BorderBrush}"
                          BorderThickness="0,1,1,0" CornerRadius="0,2,0,0">
                    <Border x:Name="BdInternal" Background="{TemplateBinding Control.Background}"
                            Padding="{TemplateBinding Control.Padding}">
                      <ContentPresenter x:Name="Content" ContentSource="Header" RecognizesAccessKey="true"
                                        SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
                                        HorizontalAlignment="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                        VerticalAlignment="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
                    </Border>
                  </Border>
                </Grid>
                <ControlTemplate.Triggers>
                  <Trigger Property="Selector.IsSelected" Value="true">
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"
                            Property="Control.BorderBrush"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor6Key}}"
                            Property="Control.Background"/>
                    <Setter Property="Panel.ZIndex" Value="1"/>
                    <Setter Property="FrameworkElement.Margin" Value="-1,0,-16,-1"/>
                    <Setter TargetName="BdInternal" Property="FrameworkElement.Margin" Value="0,0,0,-1"/>
                    <Setter TargetName="splineBd" Property="FrameworkElement.Margin" Value="0,0,0,-1.0"/>
                    <Setter TargetName="splineBd" Property="avalonDockThemeControls:SplineBorder.BottomBorderMargin"
                            Value="1.5"/>
                    <Setter Property="Control.FontWeight" Value="Bold"/>
                    <Setter Property="Panel.ZIndex" Value="1"/>
                  </Trigger>
                  <MultiTrigger>
                    <MultiTrigger.Conditions>
                      <Condition Property="UIElement.IsMouseOver" Value="true"/>
                      <Condition Property="Selector.IsSelected" Value="false"/>
                    </MultiTrigger.Conditions>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor14Key}}"
                            Property="Control.BorderBrush"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor17Key}}"
                            Property="Control.Background"/>
                    <Setter Property="Panel.ZIndex" Value="0"/>
                  </MultiTrigger>
                  <Trigger Property="UIElement.IsEnabled" Value="false">
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor13Key}}"
                            Property="Control.BorderBrush"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor9Key}}"
                            Property="Control.Background"/>
                    <Setter Value="{DynamicResource {x:Static JetSystemColors.GrayTextBrushKey}}" Property="Control.Foreground"/>
                  </Trigger>
                </ControlTemplate.Triggers>
              </ControlTemplate>
            </Setter.Value>
          </Setter>
        </Style>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsControl.ItemTemplate">
      <Setter.Value>
        <DataTemplate>
          <avalonDockControls:LayoutDocumentTabItem Model="{Binding}"/>
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="TabControl.ContentTemplate">
      <Setter.Value>
        <DataTemplate>
          <avalonDockControls:LayoutDocumentControl Model="{Binding}"/>
        </DataTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="AvalonDock_ThemeAero_AnchorablePaneControlStyle"
         TargetType="{x:Type avalonDockControls:LayoutAnchorablePaneControl}">
    <Setter Property="TabControl.TabStripPlacement" Value="Bottom"/>
    <Setter Property="Control.Padding" Value="0"/>
    <Setter Property="Control.BorderThickness" Value="0"/>
    <Setter Property="Control.Foreground"
            Value="{Binding Model.Root.Manager.Foreground, RelativeSource={RelativeSource Self}}"/>
    <Setter Property="Control.Background"
            Value="{Binding Model.Root.Manager.Background, RelativeSource={RelativeSource Self}}"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutAnchorablePaneControl}">
          <Grid ClipToBounds="true" SnapsToDevicePixels="true" KeyboardNavigation.TabNavigation="Local">
            <Grid.RowDefinitions>
              <RowDefinition Height="*"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Border Background="Transparent" Grid.RowSpan="2"/>
            <Border x:Name="ContentPanel" BorderBrush="{TemplateBinding Control.BorderBrush}"
                    BorderThickness="{TemplateBinding Control.BorderThickness}"
                    Background="{TemplateBinding Control.Background}"
                    KeyboardNavigation.DirectionalNavigation="Contained" KeyboardNavigation.TabIndex="2"
                    KeyboardNavigation.TabNavigation="Cycle">
              <ContentPresenter x:Name="PART_SelectedContentHost" ContentSource="SelectedContent"
                                Margin="{TemplateBinding Control.Padding}"
                                SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"/>
            </Border>
            <avalonDockControls:AnchorablePaneTabPanel x:Name="HeaderPanel" Margin="0,0,2,2" IsItemsHost="true" Grid.Row="1"
                                                       KeyboardNavigation.TabIndex="1" ZIndex="1"/>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="UIElement.IsEnabled" Value="false">
              <Setter Value="{DynamicResource {x:Static JetSystemColors.GrayTextBrushKey}}" Property="Control.Foreground"/>
            </Trigger>
            <DataTrigger Value="1" Binding="{Binding Items.Count, RelativeSource={RelativeSource Self}}">
              <Setter TargetName="HeaderPanel" Property="FrameworkElement.Margin" Value="0"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsControl.ItemContainerStyle">
      <Setter.Value>
        <Style TargetType="{x:Type TabItem}">
          <Setter Property="Control.Background"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor4Key}}"/>
          <Setter Property="Control.BorderBrush"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"/>
          <Setter Property="Control.Foreground"
                  Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor12Key}}"/>
          <Setter Property="TabItem.IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
          <Setter Property="FrameworkElement.ToolTip" Value="{Binding ToolTip}"/>
          <Setter Property="FrameworkElement.Margin" Value="0,0,-1,0"/>
          <Setter Property="Control.Template">
            <Setter.Value>
              <ControlTemplate TargetType="{x:Type TabItem}">
                <Grid SnapsToDevicePixels="true">
                  <Border x:Name="Bd" BorderBrush="{TemplateBinding Control.BorderBrush}" BorderThickness="1,0,1,1"
                          Background="{TemplateBinding Control.Background}" Padding="{TemplateBinding Control.Padding}">
                    <ContentPresenter x:Name="Content" ContentSource="Header" RecognizesAccessKey="true"
                                      SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
                                      HorizontalAlignment="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                      VerticalAlignment="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
                  </Border>
                </Grid>
                <ControlTemplate.Triggers>
                  <Trigger Property="Selector.IsSelected" Value="true">
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor2Key}}"
                            Property="Control.Background"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor3Key}}"
                            Property="Control.Foreground"/>
                    <Setter Property="Panel.ZIndex" Value="1"/>
                    <Setter Property="FrameworkElement.Margin" Value="0,-1,-1,-2"/>
                  </Trigger>
                  <MultiTrigger>
                    <MultiTrigger.Conditions>
                      <Condition Property="UIElement.IsMouseOver" Value="true"/>
                      <Condition Property="Selector.IsSelected" Value="false"/>
                    </MultiTrigger.Conditions>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor32Key}}"
                            Property="Control.BorderBrush"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor27Key}}"
                            Property="Control.Background"/>
                    <Setter Property="Panel.ZIndex" Value="0"/>
                  </MultiTrigger>
                  <Trigger Property="UIElement.IsEnabled" Value="false">
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor13Key}}"
                            Property="Control.BorderBrush"/>
                    <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor9Key}}"
                            Property="Control.Background"/>
                    <Setter Value="{DynamicResource {x:Static JetSystemColors.GrayTextBrushKey}}" Property="Control.Foreground"/>
                  </Trigger>
                </ControlTemplate.Triggers>
              </ControlTemplate>
            </Setter.Value>
          </Setter>
          <Style.Triggers>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TabControl}}, Path=Items.Count}"
                         Value="1">
              <Setter Property="UIElement.Visibility" Value="Collapsed"/>
            </DataTrigger>
          </Style.Triggers>
        </Style>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsControl.ItemTemplate">
      <Setter.Value>
        <DataTemplate>
          <avalonDockControls:LayoutAnchorableTabItem Model="{Binding}"/>
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="TabControl.ContentTemplate">
      <Setter.Value>
        <DataTemplate>
          <avalonDockControls:LayoutAnchorableControl Model="{Binding}"/>
        </DataTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:AnchorablePaneTitle}">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate>
          <Border Background="{TemplateBinding Control.Background}"
                  BorderBrush="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"
                  BorderThickness="0,0,0,1" Padding="0,2,0,1">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                      DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                <ContentPresenter x:Name="Header" Margin="2,0,0,0"
                                  Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplate="{Binding Model.Root.Manager.AnchorableTitleTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplateSelector="{Binding Model.Root.Manager.AnchorableTitleTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}"/>
              </avalonDockControls:DropDownControlArea>
              <avalonDockControls:DropDownButton x:Name="MenuDropDownButton" VerticalAlignment="Center"
                                                 Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" Focusable="false" Grid.Column="1"
                                                 Padding="-1" ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_CxMenu_Hint}"
                                                 DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                 DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                <Image x:Name="PART_ImgMenuPin" Source="Images/PinMenu_Dark.png"/>
              </avalonDockControls:DropDownButton>
              <Button x:Name="PART_AutoHidePin" Grid.Column="2" Focusable="false" Padding="-1"
                      Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" VerticalAlignment="Center"
                      HorizontalAlignment="Center"
                      ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_BtnAutoHide_Hint}"
                      Command="{Binding Path=LayoutItem.AutoHideCommand, RelativeSource={RelativeSource TemplatedParent}}"
                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                <Image x:Name="PART_ImgAutoHidePin" Source="Images/PinAutoHide_Dark.png"/>
              </Button>
              <Button x:Name="PART_HidePin" Grid.Column="3" Focusable="false" Padding="-1"
                      Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" VerticalAlignment="Center"
                      HorizontalAlignment="Center"
                      ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_BtnClose_Hint}"
                      Command="{Binding Path=LayoutItem.HideCommand, RelativeSource={RelativeSource TemplatedParent}}"
                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                <Image x:Name="PART_ImgHidePin" Source="Images/PinClose_Dark.png"/>
              </Button>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <DataTrigger Value="True" Binding="{Binding Model.IsAutoHidden, RelativeSource={RelativeSource Mode=Self}}">
              <Setter TargetName="PART_AutoHidePin" Property="FrameworkElement.LayoutTransform">
                <Setter.Value>
                  <RotateTransform Angle="90"/>
                </Setter.Value>
              </Setter>
            </DataTrigger>
            <DataTrigger Value="True" Binding="{Binding Model.CanClose, RelativeSource={RelativeSource Mode=Self}}">
              <Setter TargetName="PART_HidePin"
                      Value="{Binding Path=LayoutItem.CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"
                      Property="ButtonBase.Command"/>
              <Setter TargetName="PART_HidePin" Value="{x:Static avalonDockProperties:Resources.Document_Close}"
                      Property="FrameworkElement.ToolTip"/>
            </DataTrigger>
            <DataTrigger Value="True" Binding="{Binding Model.IsActive, RelativeSource={RelativeSource Mode=Self}}">
              <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor15Key}}"
                      Property="Control.Background"/>
            </DataTrigger>
            <Trigger SourceName="MenuDropDownButton" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgMenuPin" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="MenuDropDownButton" Property="ToggleButton.IsChecked" Value="True">
              <Setter TargetName="PART_ImgMenuPin" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_AutoHidePin" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgAutoHidePin" Property="Image.Source" Value="Images/PinAutoHide_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_HidePin" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgHidePin" Property="Image.Source" Value="Images/PinClose_Black.png"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <ControlTemplate x:Key="AvalonDock_ThemeAero_AnchorSideTemplate"
                   TargetType="{x:Type avalonDockControls:LayoutAnchorSideControl}">
    <ItemsControl Background="{TemplateBinding Control.Background}"
                  ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Children}">
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel MinWidth="4" MinHeight="4"
                      Orientation="{Binding Path=Model.Side, RelativeSource={RelativeSource AncestorType={x:Type avalonDockControls:LayoutAnchorSideControl}, Mode=FindAncestor}, Converter={StaticResource AnchorSideToOrientationConverter}}"/>
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
    </ItemsControl>
  </ControlTemplate>
  <ControlTemplate x:Key="AvalonDock_ThemeAero_AnchorGroupTemplate"
                   TargetType="{x:Type avalonDockControls:LayoutAnchorGroupControl}">
    <ItemsControl ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Children}">
      <FrameworkElement.LayoutTransform>
        <RotateTransform Angle="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Model.Parent.Side, Converter={StaticResource AnchorSideToAngleConverter}}"/>
      </FrameworkElement.LayoutTransform>
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Horizontal"/>
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
    </ItemsControl>
  </ControlTemplate>
  <ControlTemplate x:Key="AvalonDock_ThemeAero_AnchorTemplate"
                   TargetType="{x:Type avalonDockControls:LayoutAnchorControl}">
    <Border x:Name="Bd" Background="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor26Key}}"
            BorderBrush="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"
            BorderThickness="1" Margin="0,4,0,0" Padding="2">
      <ContentPresenter Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                        ContentTemplate="{Binding AnchorableHeaderTemplate, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"
                        ContentTemplateSelector="{Binding AnchorableHeaderTemplateSelector, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"/>
    </Border>
    <ControlTemplate.Triggers>
      <Trigger Property="avalonDockControls:LayoutAnchorControl.Side" Value="Right">
        <Setter TargetName="Bd" Property="FrameworkElement.Margin" Value="0,0,0,4"/>
      </Trigger>
      <Trigger Property="avalonDockControls:LayoutAnchorControl.Side" Value="Bottom">
        <Setter TargetName="Bd" Property="FrameworkElement.Margin" Value="0,4,0,0"/>
      </Trigger>
      <Trigger Property="avalonDockControls:LayoutAnchorControl.Side" Value="Top">
        <Setter TargetName="Bd" Property="FrameworkElement.Margin" Value="0,0,0,4"/>
      </Trigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="UIElement.IsMouseOver" Value="true"/>
          <Condition Property="Selector.IsSelected" Value="false"/>
        </MultiTrigger.Conditions>
        <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor14Key}}" TargetName="Bd"
                Property="Border.BorderBrush"/>
        <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor6Key}}" TargetName="Bd"
                Property="Border.Background"/>
      </MultiTrigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <Style TargetType="{x:Type avalonDockControls:OverlayWindow}">
    <Setter Property="Control.Background" Value="Transparent"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:OverlayWindow}">
          <Canvas x:Name="PART_DropTargetsContainer" Opacity="0.9">
            <Path x:Name="PART_PreviewBox" Fill="AliceBlue" StrokeThickness="2"
                  Stroke="{DynamicResource {x:Static JetSystemColors.HighlightBrushKey}}"/>
            <Grid x:Name="PART_DockingManagerDropTargets">
              <Image x:Name="PART_DockingManagerDropTargetLeft" VerticalAlignment="Center" HorizontalAlignment="Left"
                     Source="Images/DockAnchorableLeft.PNG" Stretch="None"/>
              <Image x:Name="PART_DockingManagerDropTargetRight" VerticalAlignment="Center" HorizontalAlignment="Right"
                     Source="Images/DockAnchorableRight.PNG" Stretch="None"/>
              <Image x:Name="PART_DockingManagerDropTargetBottom" VerticalAlignment="Bottom"
                     HorizontalAlignment="Center" Source="Images/DockAnchorableBottom.PNG" Stretch="None"/>
              <Image x:Name="PART_DockingManagerDropTargetTop" VerticalAlignment="Top" HorizontalAlignment="Center"
                     Source="Images/DockAnchorableTop.PNG" Stretch="None"/>
            </Grid>
            <Grid x:Name="PART_AnchorablePaneDropTargets">
              <Grid Width="110" Height="110" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition/>
                  <RowDefinition/>
                  <RowDefinition/>
                </Grid.RowDefinitions>
                <Image Grid.ColumnSpan="3" Grid.RowSpan="3" Source="Images/DockPaneEmpty.png" Stretch="None"
                       Margin="0,0.5,0,-0.5"/>
                <Border Name="PART_AnchorablePaneDropTargetTop" Grid.Column="1" Grid.Row="0" Margin="0,3.5,0, 0">
                  <Image Source="Images/DockDocumentAsAnchorableTop.png" Stretch="None"/>
                </Border>
                <Border Name="PART_AnchorablePaneDropTargetRight" Grid.Column="2" Grid.Row="1" Margin="2">
                  <Image Source="Images/DockDocumentAsAnchorableRight.png" Stretch="None"/>
                </Border>
                <Border Name="PART_AnchorablePaneDropTargetBottom" Grid.Column="1" Grid.Row="2" Margin="0,-0.5,0,0">
                  <Image Source="Images/DockDocumentAsAnchorableBottom.png" Stretch="None"/>
                </Border>
                <Border Name="PART_AnchorablePaneDropTargetLeft" Grid.Column="0" Grid.Row="1" Margin="2">
                  <Image Source="Images/DockDocumentAsAnchorableLeft.png" Stretch="None"/>
                </Border>
                <Border Name="PART_AnchorablePaneDropTargetInto" Grid.Column="1" Grid.Row="1" Margin="0,0.5,0,0">
                  <Image Source="Images/DockDocumentInside.png" Stretch="None"/>
                </Border>
              </Grid>
            </Grid>
            <Grid x:Name="PART_DocumentPaneDropTargets">
              <Grid Width="110" Height="110" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition/>
                  <RowDefinition/>
                  <RowDefinition/>
                </Grid.RowDefinitions>
                <Image Grid.ColumnSpan="3" Grid.RowSpan="3" Source="Images/DockPaneEmpty.PNG" Stretch="None"/>
                <Border Name="PART_DocumentPaneDropTargetTop" Grid.Column="1" Grid.Row="0" Margin="2">
                  <Image Source="Images/DockDocumentTop.png" Stretch="None"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetRight" Grid.Column="2" Grid.Row="1" Margin="2">
                  <Image Source="Images/DockDocumentRight.png" Stretch="None"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetBottom" Grid.Column="1" Grid.Row="2" Margin="2">
                  <Image Source="Images/DockDocumentBottom.png" Stretch="None"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetLeft" Grid.Column="0" Grid.Row="1" Margin="2">
                  <Image Source="Images/DockDocumentLeft.png" Stretch="None"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetInto" Grid.Column="1" Grid.Row="1">
                  <Image Source="Images/DockDocumentInside.png" Stretch="None"/>
                </Border>
              </Grid>
            </Grid>
            <Grid x:Name="PART_DocumentPaneFullDropTargets">
              <Grid Width="193" Height="191" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                  <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition/>
                  <RowDefinition/>
                  <RowDefinition/>
                  <RowDefinition/>
                  <RowDefinition/>
                </Grid.RowDefinitions>
                <Image Grid.ColumnSpan="5" Grid.RowSpan="5" Source="Images/DockPaneLargeEmpty.PNG" Stretch="None"/>
                <Border Name="PART_DocumentPaneFullDropTargetTop" Grid.Column="2" Grid.Row="1">
                  <Image Source="Images/DockDocumentTop.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneFullDropTargetRight" Grid.Column="3" Grid.Row="2">
                  <Image Source="Images/DockDocumentRight.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneFullDropTargetBottom" Grid.Column="2" Grid.Row="3">
                  <Image Source="Images/DockDocumentBottom.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneFullDropTargetLeft" Grid.Column="1" Grid.Row="2">
                  <Image Source="Images/DockDocumentLeft.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneFullDropTargetInto" Grid.Column="2" Grid.Row="2">
                  <Image Source="Images/DockDocumentInside.png" Stretch="None"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetTopAsAnchorablePane" Grid.Column="2" Grid.Row="0">
                  <Image Source="Images/DockDocumentAsAnchorableTop.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetRightAsAnchorablePane" Grid.Column="4" Grid.Row="2">
                  <Image Source="Images/DockDocumentAsAnchorableRight.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetBottomAsAnchorablePane" Grid.Column="2" Grid.Row="4">
                  <Image Source="Images/DockDocumentAsAnchorableBottom.png" Stretch="None" Margin="2"/>
                </Border>
                <Border Name="PART_DocumentPaneDropTargetLeftAsAnchorablePane" Grid.Column="0" Grid.Row="2">
                  <Image Source="Images/DockDocumentAsAnchorableLeft.png" Stretch="None" Margin="2"/>
                </Border>
              </Grid>
            </Grid>
          </Canvas>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <DataTemplate x:Key="AvalonDock_ThemeAero_DocumentHeaderTemplate">
    <TextBlock TextTrimming="CharacterEllipsis" Text="{Binding Title}"/>
  </DataTemplate>
  <DataTemplate x:Key="AvalonDock_ThemeAero_AnchorableHeaderTemplate">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition/>
      </Grid.ColumnDefinitions>
      <Image x:Name="icon" Stretch="Uniform"
             Source="{Binding IconSource, Converter={StaticResource NullToDoNothingConverter}}"/>
      <TextBlock x:Name="title" Margin="4,0,0,0" TextTrimming="CharacterEllipsis" Grid.Column="1"
                 Text="{Binding Title}"/>
    </Grid>
    <DataTemplate.Triggers>
      <DataTrigger Binding="{Binding IconSource}" Value="{x:Null}">
        <Setter TargetName="title" Property="FrameworkElement.Margin" Value="0"/>
      </DataTrigger>
    </DataTemplate.Triggers>
  </DataTemplate>
  <DataTemplate x:Key="AvalonDock_ThemeAero_DocumentTitleTemplate">
    <TextBlock TextTrimming="CharacterEllipsis" Text="{Binding Title}"/>
  </DataTemplate>
  <DataTemplate x:Key="AvalonDock_ThemeAero_AnchorableTitleTemplate">
    <TextBlock TextTrimming="CharacterEllipsis" Text="{Binding Title}"/>
  </DataTemplate>
  <DataTemplate x:Key="AvalonDock_ThemeAero_IconContentTemplate">
    <Image Stretch="Uniform"
           Source="{Binding IconSource, Converter={StaticResource NullToDoNothingConverter}}"/>
  </DataTemplate>
  <ContextMenu x:Key="AvalonDock_ThemeAero_AnchorableContextMenu">
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Anchorable_Float}"
              Command="{Binding Path=FloatCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Anchorable_Dock}"
              Command="{Binding Path=DockCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Anchorable_DockAsDocument}"
              Command="{Binding Path=DockAsDocumentCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Anchorable_AutoHide}"
              Command="{Binding Path=AutoHideCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_Close}"
              Command="{Binding Path=CloseCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Anchorable_Hide}"
              Command="{Binding Path=HideCommand}">
      <UIElement.Visibility>
        <MultiBinding Converter="{StaticResource AnchorableContextMenuHideVisibilityConverter}">
          <Binding Path="IsEnabled" Mode="OneWay" Converter="{StaticResource BoolToVisibilityConverter}"
                   RelativeSource="{RelativeSource Self}"/>
          <Binding Path="CanClose"/>
        </MultiBinding>
      </UIElement.Visibility>
    </MenuItem>
  </ContextMenu>
  <ContextMenu x:Key="AvalonDock_ThemeAero_DocumentContextMenu">
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_Close}"
              Command="{Binding Path=CloseCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_CloseAllButThis}"
              Command="{Binding Path=CloseAllButThisCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_CloseAll}"
              Command="{Binding Path=CloseAllCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_Float}"
              Command="{Binding Path=FloatCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_DockAsDocument}"
              Command="{Binding Path=DockAsDocumentCommand}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_NewHorizontalTabGroup}"
              Command="{Binding Path=NewHorizontalTabGroupCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
      <MenuItem.Icon>
        <Image Source="Images/HTabGroup.png" Stretch="Uniform" Width="14"/>
      </MenuItem.Icon>
    </MenuItem>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_NewVerticalTabGroup}"
              Command="{Binding Path=NewVerticalTabGroupCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
      <MenuItem.Icon>
        <Image Source="Images/VTabGroup.png" Stretch="Uniform" Width="14"/>
      </MenuItem.Icon>
    </MenuItem>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_MoveToNextTabGroup}"
              Command="{Binding Path=MoveToNextTabGroupCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
    <MenuItem Header="{x:Static avalonDockProperties:Resources.Document_MoveToPreviousTabGroup}"
              Command="{Binding Path=MoveToPreviousTabGroupCommand}"
              Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
  </ContextMenu>
  <Style TargetType="{x:Type avalonDock:DockingManager}">
    <Setter Property="Control.Background"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor1Key}}"/>
    <Setter Property="avalonDock:DockingManager.DocumentPaneControlStyle"
            Value="{StaticResource AvalonDock_ThemeAero_DocumentPaneControlStyle}"/>
    <Setter Property="avalonDock:DockingManager.AnchorablePaneControlStyle"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorablePaneControlStyle}"/>
    <Setter Property="avalonDock:DockingManager.AnchorSideTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorSideTemplate}"/>
    <Setter Property="avalonDock:DockingManager.AnchorGroupTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorGroupTemplate}"/>
    <Setter Property="avalonDock:DockingManager.AnchorTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorTemplate}"/>
    <Setter Property="avalonDock:DockingManager.DocumentHeaderTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_DocumentHeaderTemplate}"/>
    <Setter Property="avalonDock:DockingManager.AnchorableHeaderTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorableHeaderTemplate}"/>
    <Setter Property="avalonDock:DockingManager.DocumentTitleTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_DocumentTitleTemplate}"/>
    <Setter Property="avalonDock:DockingManager.AnchorableTitleTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorableTitleTemplate}"/>
    <Setter Property="avalonDock:DockingManager.AnchorableContextMenu"
            Value="{StaticResource AvalonDock_ThemeAero_AnchorableContextMenu}"/>
    <Setter Property="avalonDock:DockingManager.DocumentContextMenu"
            Value="{StaticResource AvalonDock_ThemeAero_DocumentContextMenu}"/>
    <Setter Property="avalonDock:DockingManager.DocumentPaneMenuItemHeaderTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_DocumentHeaderTemplate}"/>
    <Setter Property="avalonDock:DockingManager.IconContentTemplate"
            Value="{StaticResource AvalonDock_ThemeAero_IconContentTemplate}"/>
    <Setter Property="avalonDock:DockingManager.GridSplitterWidth" Value="4"/>
    <Setter Property="avalonDock:DockingManager.GridSplitterHeight" Value="4"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDock:DockingManager}">
          <Border Background="{TemplateBinding Control.Background}"
                  BorderBrush="{TemplateBinding Control.BorderBrush}"
                  BorderThickness="{TemplateBinding Control.BorderThickness}">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <ContentPresenter Content="{TemplateBinding avalonDock:DockingManager.LayoutRootPanel}" Grid.Column="1" Grid.Row="1"/>
              <ContentPresenter Content="{TemplateBinding avalonDock:DockingManager.RightSidePanel}" Grid.Column="2" Grid.Row="0"
                                Grid.RowSpan="3"/>
              <ContentPresenter Content="{TemplateBinding avalonDock:DockingManager.LeftSidePanel}" Grid.Column="0" Grid.Row="0"
                                Grid.RowSpan="3"/>
              <ContentPresenter Content="{TemplateBinding avalonDock:DockingManager.TopSidePanel}" Grid.Column="0"
                                Grid.ColumnSpan="3" Grid.Row="0"/>
              <ContentPresenter Content="{TemplateBinding avalonDock:DockingManager.BottomSidePanel}" Grid.Column="0"
                                Grid.ColumnSpan="3" Grid.Row="2"/>
              <ContentPresenter x:Name="PART_AutoHideArea" Content="{TemplateBinding avalonDock:DockingManager.AutoHideWindow}"
                                VerticalAlignment="{TemplateBinding FrameworkElement.VerticalAlignment}"
                                HorizontalAlignment="{TemplateBinding FrameworkElement.HorizontalAlignment}" Grid.Column="1"
                                Grid.Row="1"/>
            </Grid>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutGridResizerControl}">
    <Setter Property="Control.Background" Value="Transparent"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutGridResizerControl}">
          <Border Background="{TemplateBinding Control.Background}"/>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutDocumentControl}">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutDocumentControl}">
          <Border Background="{TemplateBinding Control.Background}"
                  BorderBrush="{TemplateBinding Control.BorderBrush}"
                  BorderThickness="{TemplateBinding Control.BorderThickness}">
            <ContentPresenter Content="{Binding LayoutItem.View.Content, RelativeSource={RelativeSource TemplatedParent}}"
                              ContentTemplate="{Binding LayoutItem.View.ContentTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                              ContentTemplateSelector="{Binding LayoutItem.View.ContentTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}"/>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutDocumentTabItem}">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutDocumentTabItem}">
          <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Root.Manager.DocumentContextMenu}"
                                                  DropDownContextMenuDataContext="{Binding LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
            <Border Background="{TemplateBinding Control.Background}"
                    BorderBrush="{TemplateBinding Control.BorderBrush}"
                    BorderThickness="{TemplateBinding Control.BorderThickness}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Border Grid.ColumnSpan="3" Background="Transparent"/>
                <ContentPresenter Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplate="{Binding DocumentHeaderTemplate, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"
                                  ContentTemplateSelector="{Binding DocumentHeaderTemplateSelector, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"/>
                <Button x:Name="DocumentCloseButton" Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                        VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Column="2" Padding="-1"
                        Visibility="Hidden" ToolTip="{x:Static avalonDockProperties:Resources.Document_Close}"
                        Command="{Binding Path=LayoutItem.CloseCommand, RelativeSource={RelativeSource TemplatedParent}}">
                  <Image x:Name="PART_ImgPinClose" Source="Images/PinClose_Dark.png"/>
                </Button>
              </Grid>
            </Border>
          </avalonDockControls:DropDownControlArea>
          <ControlTemplate.Triggers>
            <MultiDataTrigger>
              <MultiDataTrigger.Conditions>
                <Condition Binding="{Binding Path=IsSelected}" Value="True"/>
              </MultiDataTrigger.Conditions>
              <Setter TargetName="DocumentCloseButton" Property="UIElement.Visibility" Value="Visible"/>
            </MultiDataTrigger>
            <DataTrigger Value="true" Binding="{Binding Path=IsActive}">
              <Setter TargetName="DocumentCloseButton" Property="UIElement.Visibility" Value="Visible"/>
            </DataTrigger>
            <MultiDataTrigger>
              <MultiDataTrigger.Conditions>
                <Condition Binding="{Binding Path=IsMouseOver, RelativeSource={RelativeSource TemplatedParent}}" Value="True"/>
              </MultiDataTrigger.Conditions>
              <Setter TargetName="DocumentCloseButton" Property="UIElement.Visibility" Value="Visible"/>
            </MultiDataTrigger>
            <DataTrigger Value="false" Binding="{Binding Path=CanClose}">
              <Setter TargetName="DocumentCloseButton" Property="UIElement.Visibility" Value="Collapsed"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutAnchorableTabItem}">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutAnchorableTabItem}">
          <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Root.Manager.AnchorableContextMenu}"
                                                  DropDownContextMenuDataContext="{Binding LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
            <Border Background="{TemplateBinding Control.Background}"
                    BorderBrush="{TemplateBinding Control.BorderBrush}"
                    BorderThickness="{TemplateBinding Control.BorderThickness}">
              <Grid>
                <ContentPresenter Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplate="{Binding AnchorableHeaderTemplate, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"
                                  ContentTemplateSelector="{Binding AnchorableHeaderTemplateSelector, Mode=OneWay, RelativeSource={RelativeSource AncestorType={x:Type avalonDock:DockingManager}, Mode=FindAncestor}}"/>
                <avalonDockControls:DropDownControlArea Grid.Column="0"
                                                        DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                        DropDownContextMenuDataContext="{Binding Path=Model, RelativeSource={RelativeSource TemplatedParent}}"/>
              </Grid>
            </Border>
          </avalonDockControls:DropDownControlArea>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutAnchorableControl}">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutAnchorableControl}">
          <Border x:Name="Bd" Background="{TemplateBinding Control.Background}"
                  BorderBrush="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"
                  BorderThickness="1">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <Border x:Name="Header" Background="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor16Key}}">
                <avalonDockControls:AnchorablePaneTitle Model="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"/>
              </Border>
              <ContentPresenter Grid.Row="1" FlowDirection="{TemplateBinding FrameworkElement.FlowDirection}"
                                Content="{Binding LayoutItem.View.Content, RelativeSource={RelativeSource TemplatedParent}}"/>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <MultiDataTrigger>
              <MultiDataTrigger.Conditions>
                <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Model.IsFloating}" Value="True"/>
                <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Model.Parent.IsDirectlyHostedInFloatingWindow}"
                           Value="True"/>
              </MultiDataTrigger.Conditions>
              <Setter TargetName="Header" Property="UIElement.Visibility" Value="Collapsed"/>
            </MultiDataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutDocumentFloatingWindowControl}">
    <Setter Property="Control.Background"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor7Key}}"/>
    <Setter Property="Control.BorderBrush"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor14Key}}"/>
    <Setter Property="Control.BorderThickness" Value="1"/>
    <Setter Property="shell:WindowChrome.WindowChrome">
      <Setter.Value>
        <shell:WindowChrome ResizeBorderThickness="10" CaptionHeight="18" CornerRadius="3" GlassFrameThickness="0"
                            ShowSystemMenu="false"/>
      </Setter.Value>
    </Setter>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutDocumentFloatingWindowControl}">
          <Grid>
            <Border x:Name="WindowBorder" BorderThickness="{TemplateBinding Control.BorderThickness}"
                    Background="{TemplateBinding Control.Background}"
                    BorderBrush="{TemplateBinding Control.BorderBrush}">
              <Grid Margin="3">
                <Grid.RowDefinitions>
                  <RowDefinition Height="18"/>
                  <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Border x:Name="Header" Padding="2,0,2,0">
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <ContentPresenter Content="{Binding Model.RootDocument, RelativeSource={RelativeSource TemplatedParent}}"
                                      ContentTemplate="{Binding Model.Root.Manager.DocumentTitleTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                                      ContentTemplateSelector="{Binding Model.Root.Manager.DocumentTitleTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}"/>
                    <avalonDockControls:DropDownButton x:Name="ContextMenuDropdownButton" shell:WindowChrome.IsHitTestVisibleInChrome="true"
                                                       Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" Focusable="false" Grid.Column="1"
                                                       VerticalAlignment="Center" HorizontalAlignment="Center" VerticalContentAlignment="Center"
                                                       HorizontalContentAlignment="Center"
                                                       ToolTip="{x:Static avalonDockProperties:Resources.Document_CxMenu_Hint}"
                                                       DropDownContextMenu="{Binding Model.Root.Manager.DocumentContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                       DropDownContextMenuDataContext="{Binding Path=RootDocumentLayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinMenu" Stretch="None" Source="Images/PinMenu_Dark.png" Width="13"/>
                    </avalonDockControls:DropDownButton>
                    <Button x:Name="PART_PinMaximize" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                            Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}"
                            ToolTip="{x:Static avalonDockProperties:Resources.Window_Maximize}" Grid.Column="2"
                            Visibility="{Binding IsMaximized, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource InverseBoolToVisibilityConverter}}"
                            CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinMaximize" Source="Images/PinMaximize_Dark.png" Width="13"/>
                    </Button>
                    <Button x:Name="PART_PinRestore" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                            Command="{x:Static shell:SystemCommands.RestoreWindowCommand}"
                            ToolTip="{x:Static avalonDockProperties:Resources.Window_Restore}" Grid.Column="2"
                            Visibility="{Binding IsMaximized, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}"
                            CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinRestore" Source="Images/PinRestore_Dark.png" Width="13"/>
                    </Button>
                    <Button x:Name="PART_PinClose" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                            ToolTip="{x:Static avalonDockProperties:Resources.Document_Close}" Grid.Column="3"
                            Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                            Command="{Binding Path=RootDocumentLayoutItem.CloseCommand, RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinClose" Source="Images/PinClose_Dark.png" Width="13"/>
                    </Button>
                  </Grid>
                </Border>
                <ContentPresenter Content="{TemplateBinding ContentControl.Content}" Grid.Row="1"/>
              </Grid>
            </Border>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="Window.WindowState" Value="Maximized">
              <Setter TargetName="WindowBorder" Property="Border.Padding" Value="3"/>
            </Trigger>
            <DataTrigger Value="True"
                         Binding="{Binding RelativeSource={RelativeSource Self}, Path=Model.RootDocument.IsActive}">
              <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor14Key}}"
                      Property="Control.BorderBrush"/>
              <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor14Key}}"
                      Property="Control.Background"/>
              <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor6Key}}" TargetName="Header"
                      Property="Border.Background"/>
            </DataTrigger>
            <Trigger SourceName="ContextMenuDropdownButton" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinMenu" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="ContextMenuDropdownButton" Property="ToggleButton.IsChecked" Value="True">
              <Setter TargetName="PART_ImgPinMenu" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinMaximize" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinMaximize" Property="Image.Source" Value="Images/PinMaximize_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinRestore" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinRestore" Property="Image.Source" Value="Images/PinRestore_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinClose" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinClose" Property="Image.Source" Value="Images/PinClose_Black.png"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutAnchorableFloatingWindowControl}">
    <Setter Property="Control.Background"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"/>
    <Setter Property="Control.BorderBrush"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor16Key}}"/>
    <Setter Property="Control.BorderThickness" Value="4"/>
    <Setter Property="shell:WindowChrome.WindowChrome">
      <Setter.Value>
        <shell:WindowChrome ResizeBorderThickness="10" CaptionHeight="18" CornerRadius="7" GlassFrameThickness="0"/>
      </Setter.Value>
    </Setter>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:LayoutAnchorableFloatingWindowControl}">
          <Grid>
            <Border x:Name="WindowBorder" BorderThickness="{TemplateBinding Control.BorderThickness}"
                    Background="{TemplateBinding Control.Background}"
                    BorderBrush="{TemplateBinding Control.BorderBrush}">
              <Grid>
                <Grid.RowDefinitions>
                  <RowDefinition Height="18"/>
                  <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Border x:Name="Header" CornerRadius="1,1,0,0" Padding="2,0,2,0"
                        Background="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor16Key}}">
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Border Visibility="{Binding Path=Model.IsSinglePane, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}">
                      <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                              DropDownContextMenuDataContext="{Binding Path=SingleContentLayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                        <ContentPresenter Content="{Binding Model.SinglePane.SelectedContent, RelativeSource={RelativeSource TemplatedParent}}"
                                          ContentTemplate="{Binding Model.Root.Manager.AnchorableTitleTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                                          ContentTemplateSelector="{Binding Model.Root.Manager.AnchorableTitleTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}"/>
                      </avalonDockControls:DropDownControlArea>
                    </Border>
                    <avalonDockControls:DropDownButton x:Name="SinglePaneContextMenu" shell:WindowChrome.IsHitTestVisibleInChrome="true"
                                                       Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" Focusable="false" Grid.Column="1"
                                                       VerticalAlignment="Center" HorizontalAlignment="Center" VerticalContentAlignment="Center"
                                                       HorizontalContentAlignment="Center"
                                                       ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_CxMenu_Hint}"
                                                       Visibility="{Binding Path=Model.IsSinglePane, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}"
                                                       DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                       DropDownContextMenuDataContext="{Binding Path=SingleContentLayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinMenu" Stretch="None" Source="Images/PinMenu_Dark.png" Width="13"/>
                    </avalonDockControls:DropDownButton>
                    <Button x:Name="PART_PinMaximize" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" VerticalAlignment="Center"
                            HorizontalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                            Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}"
                            ToolTip="{x:Static avalonDockProperties:Resources.Window_Maximize}" Grid.Column="2"
                            Visibility="{Binding IsMaximized, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource InverseBoolToVisibilityConverter}}"
                            CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinMaximize" Source="Images/PinMaximize_Dark.png" Width="13"/>
                    </Button>
                    <Button x:Name="PART_PinRestore" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" VerticalAlignment="Center"
                            HorizontalAlignment="Center" Command="{x:Static shell:SystemCommands.RestoreWindowCommand}"
                            ToolTip="{x:Static avalonDockProperties:Resources.Window_Restore}" Grid.Column="2"
                            Visibility="{Binding IsMaximized, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}"
                            CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinRestore" Source="Images/PinRestore_Dark.png" Width="13"/>
                    </Button>
                    <Button x:Name="PART_PinClose" shell:WindowChrome.IsHitTestVisibleInChrome="true" Focusable="false"
                            Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" VerticalAlignment="Center"
                            HorizontalAlignment="Center"
                            ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_BtnClose_Hint}" Grid.Column="3"
                            Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                            Command="{Binding HideWindowCommand, RelativeSource={RelativeSource TemplatedParent}}">
                      <Image x:Name="PART_ImgPinClose" Source="Images/PinClose_Dark.png" Width="13"/>
                    </Button>
                  </Grid>
                </Border>
                <ContentPresenter Content="{TemplateBinding ContentControl.Content}" Grid.Row="1"/>
              </Grid>
            </Border>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="Window.WindowState" Value="Maximized">
              <Setter TargetName="WindowBorder" Property="Border.Padding" Value="3"/>
            </Trigger>
            <DataTrigger Value="True"
                         Binding="{Binding RelativeSource={RelativeSource Self}, Path=Model.SinglePane.SelectedContent.IsActive}">
              <Setter Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor15Key}}" TargetName="Header"
                      Property="Border.Background"/>
            </DataTrigger>
            <DataTrigger Value="True"
                         Binding="{Binding Model.SinglePane.SelectedContent.CanClose, RelativeSource={RelativeSource Mode=Self}}">
              <Setter TargetName="PART_PinClose"
                      Value="{Binding CloseWindowCommand, RelativeSource={RelativeSource TemplatedParent}}"
                      Property="ButtonBase.Command"/>
              <Setter TargetName="PART_PinClose" Value="{x:Static avalonDockProperties:Resources.Document_Close}"
                      Property="FrameworkElement.ToolTip"/>
            </DataTrigger>
            <Trigger SourceName="SinglePaneContextMenu" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinMenu" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="SinglePaneContextMenu" Property="ToggleButton.IsChecked" Value="True">
              <Setter TargetName="PART_ImgPinMenu" Property="Image.Source" Value="Images/PinMenu_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinMaximize" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinMaximize" Property="Image.Source" Value="Images/PinMaximize_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinRestore" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinRestore" Property="Image.Source" Value="Images/PinRestore_Black.png"/>
            </Trigger>
            <Trigger SourceName="PART_PinClose" Property="UIElement.IsMouseOver" Value="true">
              <Setter TargetName="PART_ImgPinClose" Property="Image.Source" Value="Images/PinClose_Black.png"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:LayoutAutoHideWindowControl}">
    <Setter Property="avalonDockControls:LayoutAutoHideWindowControl.Background"
            Value="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor5Key}}"/>
  </Style>
  <Style x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemFocusVisual">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate>
          <Rectangle RadiusY="2" RadiusX="2" Stroke="#8E6EA6F5" StrokeThickness="1"/>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <LinearGradientBrush x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemHoverFill" EndPoint="0,1" StartPoint="0,0">
    <GradientStop Color="#FFF1FBFF" Offset="0"/>
    <GradientStop Color="#FFD5F1FE" Offset="1"/>
  </LinearGradientBrush>
  <LinearGradientBrush x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemSelectedFill" EndPoint="0,1" StartPoint="0,0">
    <GradientStop Color="#FFD9F4FF" Offset="0"/>
    <GradientStop Color="#FF9BDDFB" Offset="1"/>
  </LinearGradientBrush>
  <LinearGradientBrush x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemSelectedInactiveFill" EndPoint="0,1"
                       StartPoint="0,0">
    <GradientStop Color="#FFEEEDED" Offset="0"/>
    <GradientStop Color="#FFDDDDDD" Offset="1"/>
  </LinearGradientBrush>
  <LinearGradientBrush x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemSelectedHoverFill" EndPoint="0,1"
                       StartPoint="0,0">
    <GradientStop Color="#FFEAF9FF" Offset="0"/>
    <GradientStop Color="#FFC9EDFD" Offset="1"/>
  </LinearGradientBrush>
  <Style x:Key="AvalonDock_ThemeAero_NavigatorWindowListBoxItemStyle" TargetType="{x:Type ListBoxItem}">
    <Setter Property="FrameworkElement.FocusVisualStyle"
            Value="{StaticResource AvalonDock_ThemeAero_NavigatorWindowListBoxItemFocusVisual}"/>
    <Setter Property="Control.Background" Value="Transparent"/>
    <Setter Property="Control.BorderBrush" Value="Transparent"/>
    <Setter Property="Control.BorderThickness" Value="1"/>
    <Setter Property="Control.Padding" Value="5,0,5,0"/>
    <Setter Property="Control.VerticalContentAlignment" Value="Center"/>
    <Setter Property="FrameworkElement.Cursor" Value="Hand"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListBoxItem}">
          <Border BorderBrush="{TemplateBinding Control.BorderBrush}"
                  BorderThickness="{TemplateBinding Control.BorderThickness}"
                  Background="{TemplateBinding Control.Background}" CornerRadius="2" SnapsToDevicePixels="true">
            <Border x:Name="InnerBorder" BorderThickness="1" CornerRadius="1">
              <Grid>
                <Grid.RowDefinitions>
                  <RowDefinition MaxHeight="11"/>
                  <RowDefinition/>
                </Grid.RowDefinitions>
                <Rectangle x:Name="UpperHighlight" Fill="#75FFFFFF" Visibility="Collapsed"/>
                <ContentPresenter Grid.RowSpan="2" SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
                                  VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}"/>
              </Grid>
            </Border>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="UIElement.IsMouseOver" Value="true">
              <Setter Value="{StaticResource AvalonDock_ThemeAero_NavigatorWindowListBoxItemSelectedFill}"
                      Property="Control.Background"/>
              <Setter Property="Control.BorderBrush" Value="#FF98DDFB"/>
              <Setter TargetName="InnerBorder" Property="Border.BorderBrush" Value="#80FFFFFF"/>
              <Setter TargetName="UpperHighlight" Property="UIElement.Visibility" Value="Visible"/>
              <Setter TargetName="UpperHighlight" Property="Shape.Fill" Value="#40FFFFFF"/>
            </Trigger>
            <Trigger Property="ListBoxItem.IsSelected" Value="true">
              <Setter Value="{StaticResource AvalonDock_ThemeAero_NavigatorWindowListBoxItemSelectedFill}"
                      Property="Control.Background"/>
              <Setter Property="Control.BorderBrush" Value="#FF98DDFB"/>
              <Setter TargetName="InnerBorder" Property="Border.BorderBrush" Value="#80FFFFFF"/>
              <Setter TargetName="UpperHighlight" Property="UIElement.Visibility" Value="Visible"/>
              <Setter TargetName="UpperHighlight" Property="Shape.Fill" Value="#40FFFFFF"/>
            </Trigger>
            <Trigger Property="UIElement.IsEnabled" Value="false">
              <Setter Value="{DynamicResource {x:Static JetSystemColors.GrayTextBrushKey}}" Property="Control.Foreground"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type avalonDockControls:NavigatorWindow}">
    <Setter Property="Control.Background" Value="{DynamicResource {x:Static JetSystemColors.ControlBrushKey}}"/>
    <Setter Property="Window.SizeToContent" Value="WidthAndHeight"/>
    <Setter Property="Window.ResizeMode" Value="NoResize"/>
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type avalonDockControls:NavigatorWindow}">
          <Grid>
            <Border x:Name="WindowBorder" BorderThickness="1" CornerRadius="3"
                    Background="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor2Key}}"
                    BorderBrush="{DynamicResource {x:Static JetSystemColors.ControlDarkBrushKey}}">
              <Grid>
                <Grid.RowDefinitions>
                  <RowDefinition Height="54"/>
                  <RowDefinition Height="*"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid Margin="5">
                  <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                  </Grid.RowDefinitions>
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Image Stretch="None"
                           Source="{Binding SelectedDocument.LayoutElement.IconSource, Converter={StaticResource NullToDoNothingConverter}}"
                           Visibility="{Binding SelectedDocument.LayoutElement.IconSource, Converter={StaticResource BoolToVisibilityConverter}}"/>
                    <TextBlock x:Name="selectedElementTitle" TextTrimming="CharacterEllipsis" Grid.Column="1"
                               VerticalAlignment="Center" FontWeight="Bold" Margin="4,0,0,0"
                               Text="{Binding SelectedDocument.LayoutElement.Title}"/>
                  </Grid>
                  <TextBlock x:Name="selectedElementDescription" TextTrimming="CharacterEllipsis" VerticalAlignment="Center"
                             Text="{Binding SelectedDocument.LayoutElement.Description}"/>
                </Grid>
                <Border Grid.Row="1" BorderBrush="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor11Key}}"
                        BorderThickness="0,1,0,0"
                        Background="{DynamicResource {x:Static avalonDockAero:AeroColors.BaseColor7Key}}" MinHeight="200">
                  <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid Margin="5">
                      <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                      </Grid.RowDefinitions>
                      <TextBlock Text="Active Tool Windows" FontWeight="Bold" Margin="0,3,0,4"/>
                      <ListBox x:Name="PART_AnchorableListBox" Grid.Row="1"
                               ItemContainerStyle="{StaticResource AvalonDock_ThemeAero_NavigatorWindowListBoxItemStyle}"
                               Background="Transparent" BorderThickness="0" MaxHeight="400" ItemsSource="{Binding Anchorables}"
                               SelectedItem="{Binding SelectedAnchorable, Mode=TwoWay}">
                        <ItemsControl.ItemTemplate>
                          <DataTemplate>
                            <Grid>
                              <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="150"/>
                              </Grid.ColumnDefinitions>
                              <Image Stretch="None"
                                     Source="{Binding LayoutElement.IconSource, Converter={StaticResource NullToDoNothingConverter}}"/>
                              <TextBlock TextTrimming="CharacterEllipsis" Grid.Column="1" Margin="4,0,0,0"
                                         Text="{Binding LayoutElement.Title}"/>
                            </Grid>
                          </DataTemplate>
                        </ItemsControl.ItemTemplate>
                      </ListBox>
                    </Grid>
                    <Grid Column="1" Margin="5">
                      <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                      </Grid.RowDefinitions>
                      <TextBlock Text="Active Files" FontWeight="Bold" Margin="0,3,0,4"/>
                      <ListBox x:Name="PART_DocumentListBox" Grid.Row="1"
                               ItemContainerStyle="{StaticResource AvalonDock_ThemeAero_NavigatorWindowListBoxItemStyle}"
                               Background="Transparent" BorderThickness="0" MaxHeight="400" ItemsSource="{Binding Documents}"
                               SelectedItem="{Binding SelectedDocument, Mode=TwoWay}">
                        <ItemsControl.ItemTemplate>
                          <DataTemplate>
                            <Grid>
                              <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="150"/>
                              </Grid.ColumnDefinitions>
                              <Image Stretch="None"
                                     Source="{Binding LayoutElement.IconSource, Converter={StaticResource NullToDoNothingConverter}}"/>
                              <TextBlock TextTrimming="CharacterEllipsis" Grid.Column="1" Margin="4,0,0,0"
                                         Text="{Binding LayoutElement.Title}"/>
                            </Grid>
                          </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                          <ItemsPanelTemplate>
                            <WrapPanel Orientation="Vertical"/>
                          </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                      </ListBox>
                    </Grid>
                  </Grid>
                </Border>
                <Grid Row="2" Margin="5">
                  <TextBlock VerticalAlignment="Center" Text="{Binding SelectedDocument.LayoutElement.ToolTip}"/>
                </Grid>
              </Grid>
            </Border>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Value="{x:Null}" Property="avalonDockControls:NavigatorWindow.SelectedDocument">
              <Setter TargetName="selectedElementTitle" Value="{Binding SelectedAnchorable.LayoutElement.Title}"
                      Property="TextBlock.Text"/>
              <Setter TargetName="selectedElementDescription" Value="{x:Null}" Property="TextBlock.Text"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>